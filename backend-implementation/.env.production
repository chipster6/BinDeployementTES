# ============================================================================
# PRODUCTION ENVIRONMENT CONFIGURATION
# ============================================================================
# 
# CRITICAL: This file contains production configuration templates.
# Replace all placeholder values with actual production values before deployment.
# Never commit actual production secrets to version control.
#
# Generated by: Backend API Integration & Production Deployment Configuration
# Date: 2025-08-23
# ============================================================================

# ============================================================================
# APPLICATION ENVIRONMENT
# ============================================================================
NODE_ENV=production
PORT=3001
FRONTEND_PORT=3000

# ============================================================================
# SECURITY CONFIGURATION
# ============================================================================
# JWT Configuration (RS256 Algorithm for Production Security)
JWT_ALGORITHM=RS256
JWT_EXPIRES_IN=15m
JWT_REFRESH_EXPIRES_IN=7d
JWT_ISSUER=waste-management-api
JWT_AUDIENCE=waste-management-users

# Security Settings
HASH_ROUNDS=12
FORCE_HTTPS=true
TRUST_PROXY=true
SECURE_COOKIES=true

# ============================================================================
# DATABASE CONFIGURATION (High Performance Production Settings)
# ============================================================================
DB_HOST=postgres
DB_PORT=5432
DB_NAME=waste_management
DB_USERNAME=postgres
DB_SSL=true
DB_POOL_MIN=30
DB_POOL_MAX=180
DB_CONNECTION_TIMEOUT=60000
DB_IDLE_TIMEOUT=300000
DB_QUERY_TIMEOUT=30000

# ============================================================================
# REDIS CONFIGURATION
# ============================================================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_DB=0
REDIS_KEY_PREFIX=waste_mgmt:
REDIS_TTL_DEFAULT=3600
REDIS_MAX_RETRIES=3
REDIS_RETRY_DELAY=1000

# ============================================================================
# APPLICATION CONFIGURATION
# ============================================================================
# Logging
LOG_LEVEL=info
DEBUG_SQL=false

# API Documentation
ENABLE_SWAGGER_UI=false

# Health Checks
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_DATABASE=true
HEALTH_CHECK_REDIS=true
HEALTH_CHECK_EXTERNAL_APIS=true
HEALTH_CHECK_ML_SERVICES=true

# ============================================================================
# FRONTEND CONFIGURATION
# ============================================================================
NEXT_PUBLIC_API_URL=https://api.yourdomain.com
NEXT_PUBLIC_WEBSOCKET_URL=wss://ws.yourdomain.com
NEXT_PUBLIC_APP_NAME=Waste Management System
NEXT_PUBLIC_APP_VERSION=1.0.0

# ============================================================================
# EXTERNAL SERVICES CONFIGURATION
# ============================================================================
# Stripe Payments
STRIPE_PUBLISHABLE_KEY=pk_live_your_stripe_publishable_key

# Twilio SMS
TWILIO_ACCOUNT_SID=your_twilio_account_sid

# SendGrid Email
SENDGRID_FROM_EMAIL=noreply@yourdomain.com
SENDGRID_FROM_NAME=Waste Management System

# Samsara Fleet Management
SAMSARA_BASE_URL=https://api.samsara.com

# Mapbox Mapping
MAPBOX_STYLE_URL=mapbox://styles/mapbox/streets-v11

# Airtable Integration
AIRTABLE_BASE_ID=your_airtable_base_id

# ============================================================================
# AI/ML SERVICES CONFIGURATION
# ============================================================================
# Weaviate Vector Database
WEAVIATE_URL=http://weaviate:8080
WEAVIATE_TIMEOUT=30000

# ML Services
ML_SERVICES_URL=http://ml-services:3000
ML_SERVICES_TIMEOUT=60000

# LLM Service
LLM_SERVICE_URL=http://llm-service:8000
LLM_SERVICE_TIMEOUT=120000

# Feature Flags for AI/ML Services
ENABLE_ML_ROUTE_OPTIMIZATION=true
ENABLE_ML_PREDICTIVE_ANALYTICS=true
ENABLE_ML_VECTOR_SEARCH=true
ENABLE_ML_LLM_ASSISTANT=false

# ============================================================================
# BACKGROUND JOBS CONFIGURATION
# ============================================================================
QUEUE_REDIS_HOST=redis
QUEUE_REDIS_PORT=6379
QUEUE_REDIS_DB=1
ENABLE_QUEUE_DASHBOARD=false
QUEUE_DASHBOARD_PORT=3003

# Job Processing
MAX_JOB_ATTEMPTS=3
JOB_TIMEOUT=300000
CLEANUP_COMPLETED_JOBS=true
COMPLETED_JOBS_TTL=86400

# ============================================================================
# MONITORING & OBSERVABILITY
# ============================================================================
# Prometheus Metrics
ENABLE_PROMETHEUS_METRICS=true
PROMETHEUS_METRICS_PATH=/metrics
METRICS_COLLECTION_INTERVAL=30000

# Logging Configuration
LOG_FORMAT=json
LOG_TIMESTAMP=true
LOG_CORRELATION_ID=true
LOG_REQUEST_DETAILS=true

# APM Integration
ENABLE_APM=true
APM_SERVICE_NAME=waste-management-api
APM_ENVIRONMENT=production

# ============================================================================
# PERFORMANCE OPTIMIZATION
# ============================================================================
# Response Compression
ENABLE_COMPRESSION=true
COMPRESSION_LEVEL=6
COMPRESSION_THRESHOLD=1024

# Request Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=1000
RATE_LIMIT_SKIP_SUCCESSFUL_REQUESTS=false

# Caching Strategy
ENABLE_RESPONSE_CACHING=true
CACHE_CONTROL_MAX_AGE=300
ETAG_GENERATION=true

# Connection Keep-Alive
KEEP_ALIVE_TIMEOUT=65000
HEADERS_TIMEOUT=66000

# ============================================================================
# DOCKER & DEPLOYMENT CONFIGURATION
# ============================================================================
# Build Configuration
BUILD_TARGET=production
DOCKER_BUILDKIT=1
COMPOSE_DOCKER_CLI_BUILD=1

# Resource Limits
BACKEND_MEMORY_LIMIT=4G
BACKEND_CPU_LIMIT=2.0
BACKEND_MEMORY_RESERVATION=2G
BACKEND_CPU_RESERVATION=1.0
BACKEND_REPLICAS=2

FRONTEND_MEMORY_LIMIT=2G
FRONTEND_CPU_LIMIT=1.0
FRONTEND_REPLICAS=2

# Data Persistence
DATA_PATH=/var/lib/waste-management

# ============================================================================
# SSL/TLS CONFIGURATION
# ============================================================================
# Nginx Configuration
NGINX_HTTP_PORT=80
NGINX_HTTPS_PORT=443
SSL_CERT_PATH=/etc/nginx/ssl/cert.pem
SSL_KEY_PATH=/etc/nginx/ssl/private.key

# SSL Security Headers
ENABLE_HSTS=true
HSTS_MAX_AGE=31536000
HSTS_INCLUDE_SUBDOMAINS=true
HSTS_PRELOAD=true

# ============================================================================
# MONITORING STACK CONFIGURATION
# ============================================================================
# Prometheus
PROMETHEUS_PORT=9090
PROMETHEUS_RETENTION_TIME=90d
PROMETHEUS_RETENTION_SIZE=50GB
PROMETHEUS_LOG_LEVEL=info

# Grafana
GRAFANA_PORT=3004
GRAFANA_USER=admin
GRAFANA_DOMAIN=monitoring.yourdomain.com
GRAFANA_COOKIE_SECURE=true

# AlertManager
ALERTMANAGER_PORT=9093
ALERTMANAGER_LOG_LEVEL=info

# Admin Tools
REDIS_COMMANDER_PORT=8081
PGADMIN_PORT=8080
PGADMIN_EMAIL=admin@yourdomain.com

# ============================================================================
# BACKUP & DISASTER RECOVERY
# ============================================================================
# Backup Configuration
BACKUP_SCHEDULE="0 2 * * *"
BACKUP_RETENTION_DAYS=30
BACKUP_ENCRYPTION=true

# Disaster Recovery
DR_REPLICATION_ENABLED=true
DR_BACKUP_LOCATION=s3://your-backup-bucket/waste-management
DR_RESTORE_POINT_INTERVAL=4

# ============================================================================
# COMPLIANCE & SECURITY
# ============================================================================
# Audit Logging
ENABLE_AUDIT_LOGGING=true
AUDIT_LOG_ALL_REQUESTS=true
AUDIT_LOG_RETENTION_DAYS=2555

# SOC 2 Compliance
SOC2_COMPLIANCE_MODE=true
SOC2_MONITORING_ENABLED=true
SOC2_AUDIT_TRAIL=true

# Data Protection
ENABLE_DATA_ENCRYPTION_AT_REST=true
ENABLE_FIELD_LEVEL_ENCRYPTION=true
PII_ANONYMIZATION=true

# ============================================================================
# RESOURCE MONITORING THRESHOLDS
# ============================================================================
# CPU Monitoring
CPU_WARNING_THRESHOLD=70
CPU_CRITICAL_THRESHOLD=85

# Memory Monitoring  
MEMORY_WARNING_THRESHOLD=80
MEMORY_CRITICAL_THRESHOLD=90

# Disk Space Monitoring
DISK_WARNING_THRESHOLD=80
DISK_CRITICAL_THRESHOLD=90

# Database Connection Pool
DB_POOL_WARNING_THRESHOLD=150
DB_POOL_CRITICAL_THRESHOLD=170

# Response Time Monitoring
API_RESPONSE_TIME_WARNING_MS=2000
API_RESPONSE_TIME_CRITICAL_MS=5000

# ============================================================================
# BUSINESS CONTINUITY
# ============================================================================
# Circuit Breaker Configuration
CIRCUIT_BREAKER_FAILURE_THRESHOLD=5
CIRCUIT_BREAKER_RESET_TIMEOUT=60000
CIRCUIT_BREAKER_MONITORING=true

# Graceful Shutdown
GRACEFUL_SHUTDOWN_TIMEOUT=30000
DRAIN_CONNECTIONS_TIMEOUT=10000

# Health Check Intervals
HEALTH_CHECK_INTERVAL=30000
DEEP_HEALTH_CHECK_INTERVAL=300000

# ============================================================================
# CUSTOM DOMAIN & CDN CONFIGURATION
# ============================================================================
# Domain Configuration
PRIMARY_DOMAIN=yourdomain.com
API_SUBDOMAIN=api.yourdomain.com
ADMIN_SUBDOMAIN=admin.yourdomain.com
MONITORING_SUBDOMAIN=monitoring.yourdomain.com

# CDN Configuration
CDN_ENABLED=true
CDN_STATIC_ASSETS_URL=https://cdn.yourdomain.com
CDN_CACHE_CONTROL=public, max-age=31536000, immutable